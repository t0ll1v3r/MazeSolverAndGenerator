#include <iostream>
#include <fstream>
#include <vector>
#include <queue>
#include <string>

using namespace std;

struct Point {
    int x, y, distance;
    Point(int x, int y, int distance) : x(x), y(y), distance(distance) {}
};

bool isValid(int x, int y, int N, vector<vector<int> >& maze, vector<vector<bool> >& visited) {
    return (x >= 0 && x < N && y >= 0 && y < N && maze[x][y] == 1 && !visited[x][y]);
}

int shortestPath(vector<vector<int> >& maze, int N) {
    if (maze[0][0] == 0 || maze[N - 1][N - 1] == 0) {
        return 0;
    }

    vector<vector<bool> > visited(N, vector<bool>(N, false));
    queue<Point> q;
    int rowDir[] = {-1, 1, 0, 0};
    int colDir[] = {0, 0, -1, 1};

    q.push(Point(0, 0, 1));
    visited[0][0] = true;

    while (!q.empty()) {
        Point p = q.front();
        q.pop();

        if (p.x == N - 1 && p.y == N - 1) {
            return p.distance;
        }

        for (int i = 0; i < 4; i++) {
            int newX = p.x + rowDir[i];
            int newY = p.y + colDir[i];

            if (isValid(newX, newY, N, maze, visited)) {
                visited[newX][newY] = true;
                q.push(Point(newX, newY, p.distance + 1));
            }
        }
    }

    return 0;
}
/*
Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶$Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶8____________v$Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶$Â¶$v_____________________qÂ¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶v___________________________vÂ¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶v_________________________________8Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶$_____________________________________$Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶o_______qÂ¶Â¶Â¶Â¶3_____________$Â¶Â¶Â¶$________qÂ¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶________Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶o_________$Â¶Â¶Â¶Â¶Â¶Â¶Â¶$_______oÂ¶Â¶Â¶Â¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶Â¶$________vÂ¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶________qÂ¶Â¶Â¶$Â¶Â¶Â¶Â¶Â¶v_______qÂ¶Â¶Â¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶$Â¶_________8Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶________8Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶3________8Â¶$Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶___________Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶________vÂ¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶__________Â¶Â¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶___________Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶__________8Â¶Â¶Â¶Â¶Â¶Â¶Â¶3__________qÂ¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶____________$Â¶Â¶Â¶Â¶$____________vÂ¶Â¶Â¶Â¶Â¶____________oÂ¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶________________________________________________oÂ¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶________________________________________________qÂ¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶___v8Â¶Â¶v_________________________________Â¶Â¶Â¶q__v$Â¶$Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶q_____Â¶3________________________________3Â¶o____oÂ¶Â¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶Â¶______qÂ¶q_____________________________Â¶3_____v$Â¶Â¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶________3Â¶o______________________o$$_______v$Â¶Â¶Â¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶__________$Â¶Â¶q_______________$Â¶$_________v$Â¶Â¶Â¶Â¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶q____________q$Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶$$q___________vo8Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶_________________________________vvo8Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶$Â¶$v____________________________vvo8Â¶Â¶$Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶q_______________________vvvo3Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶3v______________vvvq88Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶$3qqooqqq8Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶$Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶$Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶Â¶
*/
int main(int argc, char* argv[]) {
    if (argc != 2) {
        cerr << "Usage: " << argv[0] << " <filename>" << endl;
        return 1;
    }

    ifstream inputFile(argv[1]);
    if (!inputFile) {
        cerr << "Error opening file: " << argv[1] << endl;
        return 1;
    }

    vector<vector<int> > maze;
    string line;
    while (getline(inputFile, line)) {
        vector<int> row;
        for (size_t i = 0; i < line.length(); ++i) {
            char ch = line[i];
            if (ch == '0' || ch == '1') {
                row.push_back(ch - '0');
            }
        }
        maze.push_back(row);
    }

    inputFile.close();

    int N = maze.size();
    int result = shortestPath(maze, N);
    cout << result << endl;

    return 0;
}
/*
â €â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â£¿â£¿â£¿â£¿â£¿â¡†â €â €â €â¢€â£´â£¶â£¶â£¶â£¶â£„â €â£€â£´â£¶â£¶â£¶â£¶â¡€â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â£¿â €â €â €â €â €â¢ â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¦â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â¢ˆâ£¿â£¿â €â €â €â €â €â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â£¿â €â €â €â €â €â ¸â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â£¿â €â €â €â €â €â €â ¹â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â Ÿâ â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â£¿â €â €â €â €â €â €â €â ˆâ »â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â ‹â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â¢€â£€â£¸â£¿â£¿â£€â£€â¡€â €â €â €â €â €â €â ˆâ »â¢¿â¢¿â£¿â£¿â£¿â Ÿâ â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â ¸â ¿â ¿â ¿â ¿â ¿â ¿â ‡â €â €â €â €â €â €â €â €â €â ˆâ ™â ‰â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â¢¾â£¿â£¿â£¿â£¿â£¿â£¿â †â  â£¿â¡¿â£¿â£¿â£¿â¢¿â£¿â£¦â£´â£¿â¡¿â ¿â¢¿â£¿â£·â£„â €â¢¾â£¿â£¿â£¿â£¿â¡¿â£¿â †â €â¢¸â£¿â£¿â£¿â£¿â£¿â£¿â¡†â €â €â €â €
â €â €â €â €â €â €â €â ˆâ¢¿â£¿â£§â €â €â €â €â£ â£¿â¡¿â â €â €â£°â£¿â¡¿â â €â €â €â ˆâ »â£¿â£§â¡€â €â ˜â£¿â¡Ÿâ €â €â €â €â €â €â €â¢¸â£¿â£¿â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â¢»â£¿â£§â¡€â €â¢°â£¿â¡¿â â €â €â£¿â£¿â â €â €â €â €â €â €â €â €â¢»â£¿â£‡â €â €â£¿â¡‡â €â €â €â €â €â €â ¸â£¿â£¿â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â ¹â£¿â£·â£´â£¿â¡Ÿâ €â €â €â¢°â£¿â¡Ÿâ €â €â €â €â €â €â €â €â €â¢¸â£¿â£¿â €â €â£¿â¡‡â €â €â €â €â €â €â¢¸â£¿â£¿â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â ™â£¿â£¿â¡â €â €â €â €â ˜â£¿â£§â €â €â €â €â €â €â €â €â €â¢¸â£¿â£¿â €â €â£¿â¡‡â €â €â €â €â €â €â¢¸â£¿â£¿â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â£¿â£¿â¡€â €â €â €â €â €â£¿â£¿â¡„â €â €â €â €â €â €â €â €â£¿â£¿â ‡â €â €â£¿â£§â €â €â €â €â €â €â¢¸â£¿â£¿â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â¢€â£€â£€â£¿â£¿â£‡â£€â¡€â €â €â €â ˜â¢¿â£¿â£¦â£€â €â €â¢€â£ â£¾â£¿â â €â €â €â €â¢¿â£¿â£¦â¡€â €â €â£€â£¼â£¿â â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â »â ¿â ¿â ¿â ¿â ¿â ¿â ¿â €â €â €â €â €â ™â ¿â¢¿â£¿â£¿â ¿â ›â â €â €â €â €â €â €â €â ™â ¿â¢¿â£¿â£¿â¡¿â Ÿâ ‰â €â €
 â‚Š      ãƒ»      â‚Š               â‚Š            Â°        â˜†
      â˜†    â‚Š          â‹†.       â‚Š        â˜…           âŠ¹
               âŸ¡     âŠ¹             .                     â˜¾
  â‹†      .                  âŸ¡      .         â‚Š         .
                    Ë–                   Ë–           Â°
 â˜¾     ï½¡   âˆ©â€•â€•â€•â€•â€•âˆ©  â‚Š        âŠ¹         â˜†
             || âˆ§,,âˆ§ âˆ§,,,âˆ§     ||       .            â‹†
     .  â‹†   ||(Ë¶Â´ ï½°(Ë¶-Ï‰-Ë¶)   ||  ð“‚ð“Œð’¶ ðŸ’–       â‚Š
   â˜†      |ï¾‰ï¿£ã¥âŒ’âŒ’ï¿£  ï¼¼     â‹†         .
 .      .    (ã€€ãƒŽã€€âŒ’âŒ’ ãƒ½   ï¼¼      â‚Š         â˜¾
       â‚Š     ï¼¼   ãƒŽ||ï¿£ï¿£ï¿£ï¿£ï¿£||         â‚Š
 ã€€             ï¼¼,ï¾‰||ï¿£ï¿£ï¿£ï¿£ï¿£||
 */
